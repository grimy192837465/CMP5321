# -*- coding: utf-8 -*-

import socket
from ssh2.session import Session

host ='myswitches'
user = 'admin'
password = 'cisco'

sock.socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.connection((host,22))

session = Session()
session.handshake(sock)
session.userauth_password(user, password)

channel = session.open_session()
print (channel.execute('ls'))

size,data = channel.read()
while size > 0:
    print (data.decode())
    size,data = channel.read()

channel.close()
print("Exit status: {}".format(channel.get_exit_status))
